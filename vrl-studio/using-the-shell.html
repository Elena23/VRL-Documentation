<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<link type="text/css" rel="stylesheet" href="resources/css/vrl-documentation.css"/>
</head>
<body>
<h1 id="usingtheshell">Using The Shell</h1>

<h2 id="requirements">Requirements</h2>

<ul>
<li>VRL-Studio &gt;= 4.4.3</li>
<li>VRL &gt;= 0.4.2.7</li>
</ul>

<h2 id="dependson">Depends On</h2>

<p><a href="what-is-vrl-studio.html">What Is VRL-Studio?</a></p>

<h2 id="contents">Contents</h2>

<p>In this tutorial you will learn how to</p>

<ul>
<li>use the Groovy shell that comes with VRL-Studio</li>
</ul>

<h2 id="difficultylevel">Difficulty Level</h2>

<p>Intermediate</p>

<h2 id="introduction">Introduction</h2>

<p>The shell is an interactive command line interface that allows to control VRL-Studio.</p>

<blockquote>
<p><strong>WARNING</strong> The shell is great for experiments. It is a perfect calculator, can be used for debugging and exploration of the VRL API. But, <strong>it can also damage your project</strong>. Freedom is responsibility! </p>

<p>That said, have fun with the shell!</p>
</blockquote>

<h3 id="openingtheshell">Opening The Shell</h3>

<p>Drag the ruler up to show the log/shell (see <a href="resources/img/show-shell-01.png">Show Shell</a>, 1.). Now click on the <code>Shell</code> tab to show the shell (see <a href="resources/img/show-shell-01.png">Show Shell</a>, 2.)</p>

<figure>
<img src="resources/img/show-shell-01.png" alt="Show Shell" id="showshell" style="width:450px;" />
<figcaption>Show Shell</figcaption></figure>



<h2 id="accessingthehelp">Accessing The Help</h2>

<p>When you first open the shell it shows some information about the operating system, Java and Groovy etc. Most importantly, it explains how to access the built-in help:</p>

<pre><code>*******************************************************************
                             VRL-Shell                             
-------------------------------------------------------------------
 =&gt; VRL-0.4.2.6-HEAD, build: 2012/11/26 16:53:41
 =&gt; Java-1.6.0_37 (Apple Inc.)
 =&gt; Groovy-1.8.8
 =&gt; OS: Mac OS X (x64)
 =&gt; pid: 690
*******************************************************************
Welcome, user! Type &quot;sh:help&quot; to get help.

VRL:&gt; 
</code></pre>

<p>Now type <code>sh:help</code> and press <code>Enter</code>. The shell will give you the following output:</p>

<pre><code>------------------------ help ------------------------
valid shell commands:
- sh:clear   clears current input buffer
- sh:variables   shows defined variables
- sh:constants   shows defined constants
- sh:restart   restarts shell (local variables and classes will be lost)
- sh:save   saves current shell session as script
- sh:execute   executes groovy script
- :CMD     executes CMD on system shell (replace CMD with the desired command)
       Note: a) CMD must not be interactive or require terminal emulation!
             b) $ character must be escaped, e.g., $ becomes \$
             c) \ character must be escaped, e.g., C:\ becomes C:\\
- #CMD     same as :CMD, but runs CMD in xterm.
       Note: a) xterm must be installed on your system!
             b) Use this for interactive shell commands such as 'view' or 'vim'.
- quit      quits this shell (if allowed)
- exit      quits this shell (if allowed)
- sh:help   shows this help message
VRL:&gt; 
</code></pre>

<p>This gives you an overview over the possibilities of the shell that are extensions to the functionality derived from Groovy.</p>

<h2 id="executingcommands">Executing Commands</h2>

<p>As a first example, type <code>println &quot;Hello, Shell&quot;</code> and press <code>Enter</code>. It will show the following output:</p>

<pre><code>VRL:&gt; println &quot;Hello, Shell&quot;
Hello, Shell
VRL:&gt; 
</code></pre>

<h2 id="definingvariables">Defining Variables</h2>

<p>This is an example on how to define custom variables:</p>

<pre><code>VRL:&gt; a = 10
out:&gt; 10
VRL:&gt; b = 10
out:&gt; 10
VRL:&gt; c = a+ b
out:&gt; 20
VRL:&gt; 
</code></pre>

<p>To see which variables you defined, type <code>sh:variables</code>:</p>

<pre><code>VRL:&gt; sh:variables
------------------------ variables ------------------------
-&gt; b type = java.lang.Integer
-&gt; c type = java.lang.Integer
-&gt; a type = java.lang.Integer
VRL:&gt;
</code></pre>

<h2 id="usingthehistory">Using The History</h2>

<p>Sometimes you might want to repeat a previously executed command. By using the <code>Up</code> and <code>Down</code> arrow keys you can navigate through the history of shell commands.</p>

<h2 id="built-inconstants">Built-In Constants</h2>

<p>The shell comes with several built-in constants. To see a list of them, type <code>sh:constants</code>:</p>

<pre><code>VRL:&gt; sh:constants
------------------------ constants ------------------------
-&gt; studio           type = eu.mihosoft.vrlstudio.main.Studio                          
-&gt; animationManager type = eu.mihosoft.vrl.animation.AnimationManager                 
-&gt; inspector        type = eu.mihosoft.vrl.reflection.VisualObjectInspector           
-&gt; canvas           type = eu.mihosoft.vrl.reflection.VisualCanvas                    
-&gt; windows          type = eu.mihosoft.vrl.reflection.VisualObjects                   
-&gt; sh               type = eu.mihosoft.vrl.lang.ShellControl                          
-&gt; effectpane       type = eu.mihosoft.vrl.visual.EffectPane                          
-&gt; typeFactory      type = eu.mihosoft.vrl.reflection.DefaultTypeRepresentationFactory
-&gt; project          type = eu.mihosoft.vrl.io.VProjectController                      
-&gt; input            type = java.io.PipedInputStream                                   
-&gt; lastResult       type = java.lang.Integer                                          
-&gt; classloader      type = eu.mihosoft.vrl.system.VClassLoader                        
-&gt; err              type = eu.mihosoft.vrl.lang.ShellView$ShellViewPrintStream        
-&gt; clipboard        type = eu.mihosoft.vrl.visual.Clipboard                           
-&gt; out              type = eu.mihosoft.vrl.lang.ShellView$ShellViewPrintStream        
VRL:&gt;
</code></pre>

<p>If you want to debug VRL itself or just want to make use of its API these objects are good entry points to the most important features of VRL.</p>

<h2 id="usingprojectclasses">Using Project Classes</h2>

<p>The shell provides access to all classes that have been defined in the project, all classes provided by installed plugins and the complete API accessible via the system class loader. You can create instances, call methods etc. Just like you would do in the code editor. The only difference is that the shell executes everything interactively without compilation.</p>

<h2 id="furtherreading">Further Reading</h2>

<ul>
<li><a href="debugging.html">Debugging</a></li>
</ul>

<p><a href="index.html">&lt;- Back To Help Index</a></p>
</body>
</html>
